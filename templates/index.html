<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geometry Area and Volume Calculator</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:700,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        .shape-info { display: none; margin-top: 20px; }
        .shape-info img { max-width: 180px; margin-bottom: 10px; }
        .formula { font-family: 'Consolas', monospace; background: #f3f3f3; padding: 6px 12px; border-radius: 6px; display: inline-block; }
    </style>
</head>
<body>
   <div class="container">
        <!-- Pyramid image before title -->
        <div style="text-align:center;">
            <img src="{{ url_for('static', filename='images/pyramid logo.png') }}" alt="Pyramid" style="height:70px;vertical-align:middle;margin-bottom:10px;">
        </div>
        <h1 style="font-family:'Montserrat',sans-serif;">Geometry Area and Volume Calculator</h1>
        <p style="text-align:center; font-size:1.1em; color:#444; margin-bottom:30px;">
            Calculate area and volume for various geometric shapes. Select a shape to see its formula and required dimensions.
        </p>

        <form method="POST" id="geometry-form">
            <div class="input-group">
                <label for="shape_type">Select Shape:</label>
                <select name="shape_type" id="shape_type" onchange="toggleInputsAndInfos();">
                    <option value="">--Please choose an option--</option>
                    <option value="circle">Circle</option>
                    <option value="quadrilateral">Rectangle</option>
                    <option value="triangle">Triangle</option>
                    <option value="pyramid">Pyramid</option>
                    <option value="sphere">Sphere</option>
                    <option value="cylinder">Cylinder</option>
                    <option value="trapezium">Trapezium</option>
                    <option value="parallelogram">Parallelogram</option>    
                    <option value="pentagon">Pentagon</option>
                    <option value="hexagon">Hexagon</option>
                    <option value="cuboid">Cuboid</option>
                    <option value="cone">Cone</option>
                    <option value="rhombus">Rhombus</option>
                    <option value="ellipse">Ellipse</option>
                    <option value="sector">Sector</option>
                </select>
            </div>

            <!-- Circle -->
            <div class="input-group" id="circle_inputs" style="display:none;">
                <label for="radius">Radius:</label>
                <input type="number" step="any" name="radius" id="radius" min="0">
            </div>
            <!-- Rectangle -->
            <div class="input-group" id="quadrilateral_inputs" style="display:none;">
                <label for="length">Length:</label>
                <input type="number" step="any" name="length" id="length" min="0">
                <label for="width">Width:</label>
                <input type="number" step="any" name="width" id="width" min="0">
            </div>
            <!-- Triangle -->
            <div class="input-group" id="triangle_inputs" style="display:none;">
                <label for="triangle_type">Triangle Type:</label>
                <select name="triangle_type" id="triangle_type" onchange="toggleTriangleInputs();">
                    <option value="right_angle">Right Angle</option>
                    <option value="equilateral">Equilateral</option>
                    <option value="isosceles">Isosceles</option>
                    <option value="scalene">Scalene</option>
                    <option value="two_sides_one_angle">Two Sides & One Angle</option>
                </select>
                <div class="sub-input-group" id="right_angle_triangle_inputs" style="display:none;">
                    <label for="base">Base:</label>
                    <input type="number" step="any" name="base" id="base" min="0">
                    <label for="height">Height:</label>
                    <input type="number" step="any" name="height" id="height" min="0">
                </div>
                <div class="sub-input-group" id="equilateral_triangle_inputs" style="display:none;">
                    <label for="side">Side:</label>
                    <input type="number" step="any" name="side" id="side" min="0">
                </div>
                <div class="sub-input-group" id="isosceles_triangle_inputs" style="display:none;">
                    <label for="base">Base:</label>
                    <input type="number" step="any" name="base" id="iso_base" min="0">
                    <label for="side">Equal Side:</label>
                    <input type="number" step="any" name="side" id="iso_side" min="0">
                </div>
                <div class="sub-input-group" id="scalene_triangle_inputs" style="display:none;">
                    <label for="side_a">Side a:</label>
                    <input type="number" step="any" name="side_a" id="side_a" min="0">
                    <label for="side_b">Side b:</label>
                    <input type="number" step="any" name="side_b" id="side_b" min="0">
                    <label for="side_c">Side c:</label>
                    <input type="number" step="any" name="side_c" id="side_c" min="0">
                </div>
                <div class="sub-input-group" id="two_sides_one_angle_triangle_inputs" style="display:none;">
                    <label for="side1">Side 1:</label>
                    <input type="number" step="any" name="side1" id="side1" min="0">
                    <label for="side2">Side 2:</label>
                    <input type="number" step="any" name="side2" id="side2" min="0">
                    <label for="angle">Angle (degrees):</label>
                    <input type="number" step="any" name="angle" id="angle" min="0" max="180">
                </div>
            </div>
            <!-- Pyramid -->
            <div class="input-group" id="pyramid_inputs" style="display:none;">
                <label for="base_length">Base Length:</label>
                <input type="number" step="any" name="base_length" id="base_length" min="0">
                <label for="base_width">Base Width:</label>
                <input type="number" step="any" name="base_width" id="base_width" min="0">
                <label for="height">Height:</label>
                <input type="number" step="any" name="height" id="pyramid_height" min="0">
            </div>
            <!-- Sphere -->
            <div class="input-group" id="sphere_inputs" style="display:none;">
                <label for="radius">Radius:</label>
                <input type="number" step="any" name="radius" id="sphere_radius" min="0">
            </div>
            <!-- Cylinder -->
            <div class="input-group" id="cylinder_inputs" style="display:none;">
                <label for="radius">Radius:</label>
                <input type="number" step="any" name="radius" id="cylinder_radius" min="0">
                <label for="height">Height:</label>
                <input type="number" step="any" name="height" id="cylinder_height" min="0">
            </div>
            <!-- Trapezium -->
            <div class="input-group" id="trapezium_inputs" style="display:none;">
                <label for="a">Side a:</label>
                <input type="number" step="any" name="a" id="trapezium_a" min="0">
                <label for="b">Side b:</label>
                <input type="number" step="any" name="b" id="trapezium_b" min="0">
                <label for="height">Height:</label>
                <input type="number" step="any" name="height" id="trapezium_height" min="0">
            </div>
            <!-- Parallelogram -->
            <div class="input-group" id="parallelogram_inputs" style="display:none;">
                <label for="base">Base:</label>
                <input type="number" step="any" name="base" id="parallelogram_base" min="0">
                <label for="height">Height:</label>
                <input type="number" step="any" name="height" id="parallelogram_height" min="0">
            </div>
            <!-- Pentagon -->
            <div class="input-group" id="pentagon_inputs" style="display:none;">
                <label for="side">Side:</label>
                <input type="number" step="any" name="side" id="pentagon_side" min="0">
            </div>
            <!-- Hexagon -->
            <div class="input-group" id="hexagon_inputs" style="display:none;">
                <label for="side">Side:</label>
                <input type="number" step="any" name="side" id="hexagon_side" min="0">
            </div>
            <!-- Cuboid -->
            <div class="input-group" id="cuboid_inputs" style="display:none;">
                <label for="length">Length:</label>
                <input type="number" step="any" name="length" id="cuboid_length" min="0">
                <label for="width">Width:</label>
                <input type="number" step="any" name="width" id="cuboid_width" min="0">
                <label for="height">Height:</label>
                <input type="number" step="any" name="height" id="cuboid_height" min="0">
            </div>
            <!-- Cone -->
            <div class="input-group" id="cone_inputs" style="display:none;">
                <label for="radius">Radius:</label>
                <input type="number" step="any" name="radius" id="cone_radius" min="0">
                <label for="height">Height:</label>
                <input type="number" step="any" name="height" id="cone_height" min="0">
            </div>
            <!-- Rhombus -->
            <div class="input-group" id="rhombus_inputs" style="display:none;">
                <label for="d1">Diagonal 1:</label>
                <input type="number" step="any" name="d1" id="d1" min="0">
                <label for="d2">Diagonal 2:</label>
                <input type="number" step="any" name="d2" id="d2" min="0">
            </div>
            <!-- Ellipse -->
            <div class="input-group" id="ellipse_inputs" style="display:none;">
                <label for="a">Semi-major axis (a):</label>
                <input type="number" step="any" name="a" id="ellipse_a" min="0">
                <label for="b">Semi-minor axis (b):</label>
                <input type="number" step="any" name="b" id="ellipse_b" min="0">
            </div>
            <!-- Sector -->
            <div class="input-group" id="sector_inputs" style="display:none;">
                <label for="radius">Radius:</label>
                <input type="number" step="any" name="radius" id="sector_radius" min="0">
                <label for="angle">Angle (degrees):</label>
                <input type="number" step="any" name="angle" id="sector_angle" min="0" max="360">
            </div>

            <!-- Unit selection -->
            <div class="input-group" id="unit_group" style="display:none;">
                <label for="unit_type">Select Unit:</label>
                <select name="unit_type" id="unit_type">
                    <option value="meters">Meters (m)</option>
                    <option value="centimeters">Centimeters (cm)</option>
                    <option value="millimeters">Millimeters (mm)</option>
                    <option value="inches">Inches (in)</option>
                    <option value="feet">Feet (ft)</option>
                </select>
            </div>
            <button type="submit">Calculate Area</button>
        </form>

        <!-- Shape Info Section -->
        <div id="shape-info-container">
            <!-- (Your existing shape-info blocks here, as in your previous code) -->
            <!-- ... -->
        </div>

        <div id="result">
            {% if result %}
                <span style="color:blue; font-weight:bold; font-size:1.2em;">{{ result }}</span>
            {% endif %}
        </div>
    </div>

    <script>
        // Hide all input groups and shape infos
        function hideAllInputsAndInfos() {
            const inputGroups = document.querySelectorAll('.input-group');
            inputGroups.forEach(group => {
                if (group.id !== 'unit_group') group.style.display = 'none';
            });
            const shapeInfos = document.querySelectorAll('.shape-info');
            shapeInfos.forEach(info => info.style.display = 'none');
            const subInputGroups = document.querySelectorAll('.sub-input-group');
            subInputGroups.forEach(subGroup => subGroup.style.display = 'none');
        }

        // Show relevant input group and shape info
        function toggleInputsAndInfos() {
            hideAllInputsAndInfos();
            var shape = document.getElementById('shape_type').value;
            if (!shape) {
                document.getElementById('unit_group').style.display = 'none';
                return;
            }
            // Show the relevant input group
            var inputGroup = document.getElementById(shape + '_inputs');
            if (inputGroup) inputGroup.style.display = 'block';
            // Show the relevant shape info
            var infoDiv = document.getElementById(shape + '-info');
            if (infoDiv) infoDiv.style.display = 'block';
            // Show unit selection
            document.getElementById('unit_group').style.display = 'block';

            // For triangle, show the default sub-inputs
            if (shape === 'triangle') {
                toggleTriangleInputs();
            }
        }

        // Show relevant triangle sub-inputs
        function toggleTriangleInputs() {
            const subInputGroups = document.querySelectorAll('.sub-input-group');
            subInputGroups.forEach(subGroup => {
                subGroup.style.display = 'none';
            });
            var triangleType = document.getElementById('triangle_type').value;
            if (triangleType === 'right_angle') {
                document.getElementById('right_angle_triangle_inputs').style.display = 'block';
            } else if (triangleType === 'equilateral') {
                document.getElementById('equilateral_triangle_inputs').style.display = 'block';
            } else if (triangleType === 'isosceles') {
                document.getElementById('isosceles_triangle_inputs').style.display = 'block';
            } else if (triangleType === 'scalene') {
                document.getElementById('scalene_triangle_inputs').style.display = 'block';
            } else if (triangleType === 'two_sides_one_angle') {
                document.getElementById('two_sides_one_angle_triangle_inputs').style.display = 'block';
            }
        }

        // Initialize on page load
        document.getElementById('shape_type').addEventListener('change', toggleInputsAndInfos);
        document.addEventListener('DOMContentLoaded', function() {
            toggleInputsAndInfos();
        });
    </script>
</body>
</html>